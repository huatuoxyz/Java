<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
          "http://struts.apache.org/dtds/struts-config_1_3.dtd">
          
<struts-config>
  
  <!-- struts1.3では推奨されてない -->
  <!--
  <data-sources>
    <data-source type="org.apache.commons.dbcp.BasicDataSource">
      <set-property property="driverClassName" value="org.gjt.mm.mysql.Driver" />
      <set-property property="url" value="jdbc:mysql://localhost:3306/king?useUnicode=true&amp;characterEncoding=utf-8" />
      <set-property property="username" value="king" />
      <set-property property="password" value="king" />
    </data-source>
  </data-sources>
  -->
  
  <form-beans>
    <form-bean name="DynaActionForm" type="org.apache.struts.action.DynaActionForm">
      <form-property name="isbn" type="java.lang.String" />
    </form-bean>
    <form-bean name="BookForm" type="book.form.BookForm" />
  </form-beans>
  
  <action-mappings>
  	
    <action path="/BookListAction" type="book.action.BookListAction">
      <forward name="success" path="/jsp/BookList.jsp" />
    </action>
    
    <action path="/BookViewAction" type="book.action.BookViewAction">
      <forward name="success" path="/jsp/BookView.jsp" />
    </action>
    
    <action path="/BookFormAction" type="book.action.BookFormAction" 
     name="DynaActionForm" scope="request">
      <forward name="success" path="/jsp/BookForm.jsp" />
    </action>
    
    <action path="/BookStoreAction" type="book.action.BookStoreAction" 
     name="BookForm" scope="request" input="/jsp/BookForm.jsp" validate="true">
      <forward name="success" path="/BookViewAction.do" />
    </action>

    <action path="/BookDestroyAction" type="book.action.BookDestroyAction">
      <forward name="success" path="/BookListAction.do" />
    </action>
    
  </action-mappings>
  
  <message-resources parameter="ApplicationResources" />
  <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
    <set-property property="pathnames" value="/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml" />
  </plug-in>
  
</struts-config>
