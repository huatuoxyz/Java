<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
		"http://struts.apache.org/dtds/struts-config_1_3.dtd">
<struts-config>
	
	<form-beans>
		<form-bean name="DynaActionUserForm" type="org.apache.struts.action.DynaActionForm">
			<form-property name="email" type="java.lang.String" />
		</form-bean>
		<form-bean name="UserForm" type="user.form.UserForm" />
		
		<form-bean name="DynaActionBookForm" type="org.apache.struts.action.DynaActionForm">
			<form-property name="isbn" type="java.lang.String" />
		</form-bean>
		<form-bean name="BookForm" type="book.form.BookForm" />
	</form-beans>
	
	<action-mappings>
		<!-- User -->
		<action path="/UserList" type="user.action.UserListAction">
			<forward name="success" path="/jsp/UserList.jsp" />
		</action>
		<action path="/UserForm" type="user.action.UserFormAction"
			name="DynaActionUserForm" scope="request">
			<forward name="success" path="/jsp/UserForm.jsp" />
		</action>
		<action path="/UserStore" type="user.action.UserStoreAction"
			name="UserForm" scope="request" input="/jsp/UserForm.jsp" validate="true">
			<forward name="success" path="/UserList.do" />
		</action>
		<action path="/UserView" type="user.action.UserViewAction">
			<forward name="success" path="/jsp/UserView.jsp" />
		</action>
		<action path="/UserDestroy" type="user.action.UserDestroyAction">
			<forward name="success" path="/UserList.do" />
		</action>

		<!-- Book -->
		<action path="/BookListAction" type="book.action.BookListAction">
			<forward name="success" path="/jsp/BookList.jsp" />
		</action>
		<action path="/BookViewAction" type="book.action.BookViewAction">
			<forward name="success" path="/jsp/BookView.jsp" />
		</action>
		<action path="/BookFormAction" type="book.action.BookFormAction"
			name="DynaActionBookForm" scope="request">
			<forward name="success" path="/jsp/BookForm.jsp" />
		</action>
		<action path="/BookStoreAction" type="book.action.BookStoreAction"
			name="BookForm" scope="request" input="/jsp/BookForm.jsp" validate="true">
			<forward name="success" path="/BookViewAction.do" />
		</action>
		<action path="/BookDestroyAction" type="book.action.BookDestroyAction">
			<forward name="success" path="/BookListAction.do" />
		</action>

	</action-mappings>
	<!-- string integration (tilesを使う場合はAutowiringTilesRequestProcessorを指定)-->
	<controller processorClass="org.springframework.web.struts.AutowiringTilesRequestProcessor"/>
	
	<!--
	<controller processorClass="org.springframework.web.struts.AutowiringRequestProcessor"/>
	-->
	
	<message-resources parameter="ApplicationResources" />
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml" />
	</plug-in>

	<plug-in className="org.springframework.web.struts.ContextLoaderPlugIn">
		<set-property property="contextConfigLocation" value="/WEB-INF/applicationContext.xml" />
	</plug-in>
	
	<plug-in className="org.apache.struts.tiles.TilesPlugin">
    	<set-property property="definitions-config" value="/WEB-INF/tiles-defs.xml" />
  	</plug-in>
  	
</struts-config>
